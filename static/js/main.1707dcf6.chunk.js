(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(5),o=a.n(r),s=a(8),i=a(3),l=(a(9),a(0));var j=function(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(i.a)(a,2),r=n[0],o=n[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):alert("Please, type what do you want to see.")},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase().trim())},value:r,name:"imgName",className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};var u=function(e){var t=e.webformatURL,a=e.largeImageURL,c=e.alt;return Object(l.jsx)("li",{className:"ImageGalleryItem",children:Object(l.jsx)("img",{width:"240",src:t,alt:c,"data-source":a,className:"ImageGalleryItem-image"})})};var m=function(e){var t=e.entriesImgs,a=e.openModal;return Object(l.jsx)("div",{children:Object(l.jsx)("ul",{className:"ImageGallery",onClick:function(e){return a(e.target.dataset.source)},children:t.map((function(e){var t=e.id,a=e.webformatURL,c=e.largeImageURL,n=e.tags;return Object(l.jsx)(u,{id:t,webformatURL:a,alt:n,largeImageURL:c},t)}))})})};var b=function(e){var t=e.onClick;return Object(l.jsx)("button",{type:"button",onClick:t,className:"Button",children:"Load more"})},d=a(10),h=a.n(d);var g=function(){return Object(l.jsx)(h.a,{type:"BallTriangle",color:"#85309f",height:100,width:100,timeout:3e3,style:{position:"fixed",top:"40%",left:"50%"}})};function O(e){var t=e.message;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{children:Object(l.jsx)("p",{className:"error-message",children:t})})})}var f=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("22980128-788f7e90de699cd9b75eacbcd","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).catch((function(e){return Promise.reject(e)}))},p=document.querySelector("#modal-root");var v=function(e){var t=e.onClose,a=e.img;Object(c.useEffect)((function(){window.addEventListener("keydown",n),window.addEventListener("keydown",o)}));var n=function(e){"Escape"===e.code&&t()},o=function(e){e.currentTarget===e.target&&t()};return Object(r.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:o,children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{src:a,alt:""})})}),p)};function x(e){var t=e.children;return Object(l.jsx)("div",{className:"container",children:t})}a(36);var w=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),u=o[0],d=o[1],h=Object(c.useState)(1),p=Object(i.a)(h,2),w=p[0],S=p[1],y=Object(c.useState)(""),N=Object(i.a)(y,2),I=N[0],L=N[1],k=Object(c.useState)("idle"),C=Object(i.a)(k,2),R=C[0],U=C[1],F=Object(c.useState)(!1),E=Object(i.a)(F,2),M=E[0],P=E[1],T=Object(c.useState)(""),B=Object(i.a)(T,2),G=B[0],q=B[1],J=Object(c.useState)(!1),_=Object(i.a)(J,2),z=_[0],D=_[1];Object(c.useEffect)((function(){a&&(U("pending"),f(a,w).then((function(e){if(!e.hits.length)return U("rejected"),alert("No such pictures, try again"),L(I);var t=e.hits.map((function(e){var t=e.id,a=e.tags,c=e.webformatURL,n=e.largeImageURL;return q(n),{id:t,webformatURL:c,tags:a,largeImageURL:n}}));d((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),U("resolved"),D(!0),H()})).catch((function(e){L("Something went wrong, please try again"),U("rejected")})))}),[I,w,a]);var H=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},A=function(e){P(!M),q(e)};return Object(l.jsxs)(x,{className:"container",children:[Object(l.jsx)(j,{onSubmit:function(e){n(e),d([]),S(1)}}),"idle"===R&&Object(l.jsx)("p",{className:"header",children:"Please, type the image name"}),"pending"===R&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m,{entriesImgs:u,openModal:A}),Object(l.jsx)(g,{})]})," rejected"===R&&Object(l.jsx)(O,{message:I}),"resolved"===R&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m,{entriesImgs:u,openModal:A}),z&&Object(l.jsx)(b,{onClick:function(){S(w+1),U("pending")}})]}),M&&Object(l.jsx)(v,{onClose:A,img:G})]})};o.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.1707dcf6.chunk.js.map